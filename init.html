<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Dec 27, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="The MyBatis Team" />
    <meta name="Date-Revision-yyyymmdd" content="20131227" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MyBatis Migrations - 
    MyBatis Migrations | Migrate > Init</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MyBatis Migrations</h2>
                </div>
                      </div>
        <div class="pull-right">                                <a href="../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="http://mybatis.github.com/images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 27 December 2013</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 3.2.0-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Migrations</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                                                                                                                                                                                                                        
      <li>
    
                          <a href="migrate.html" title="The 'migrate' Command">
          <i class="icon-chevron-down"></i>
        The 'migrate' Command</a>
                    <ul class="nav nav-list">
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>init</a>
          </li>
                      
      <li>
    
                          <a href="bootstrap.html" title="bootstrap">
          <i class="none"></i>
        bootstrap</a>
            </li>
                      
      <li>
    
                          <a href="new.html" title="new">
          <i class="none"></i>
        new</a>
            </li>
                      
      <li>
    
                          <a href="status.html" title="status">
          <i class="none"></i>
        status</a>
            </li>
                      
      <li>
    
                          <a href="updown.html" title="up, down">
          <i class="none"></i>
        up, down</a>
            </li>
                      
      <li>
    
                          <a href="version.html" title="version">
          <i class="none"></i>
        version</a>
            </li>
                      
      <li>
    
                          <a href="pending.html" title="pending">
          <i class="none"></i>
        pending</a>
            </li>
                      
      <li>
    
                          <a href="script.html" title="script">
          <i class="none"></i>
        script</a>
            </li>
                      
      <li>
    
                          <a href="shortcuts.html" title="Command Shortcuts">
          <i class="none"></i>
        Command Shortcuts</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="runtime-migration.html" title="Runtime Schema Migration">
          <i class="none"></i>
        Runtime Schema Migration</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Copyright 2010-2011 The myBatis Team

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. --><!-- version: $Id: init.xml 4115 2011-11-27 19:14:42Z simone.tripodi $ -->

  
    <div class="section"><h2>The 'init' command<a name="The_init_command"></a></h2>
      <p>The <b>init</b> command initializes a new 'migration path', also called a 'repository' (of migration scripts). Regardless of whether your working with a new database or an existing one, you'll run init to create the workspace in which you'll place everything you need to manage database
change. Running this command will create the directory specified by the <tt>--path</tt> option (which is the current working directory by default).
Here's an example of running the init command:</p>

      <div class="source"><pre class="prettyprint">/$ migrate --path=/home/cbegin/testdb init</pre></div>

      <p>If I was already in the <tt>/home/cbegin/testdb</tt> directory, I could simply run:</p>

      <div class="source"><pre class="prettyprint">/home/cbegin/testdb$ migrate init</pre></div>

      <p>When the command is completed, the directory will contain the following sub-directories:</p>

      <div class="section"><h3>./drivers<a name="a.drivers"></a></h3>
        <p>Place your JDBC driver .jar or .zip files in this directory. Upon running a migration, the drivers will be dynamically loaded.</p>
      </div>

      <div class="section"><h3>./environments<a name="a.environments"></a></h3>
        <p>
  In the environments folder you will find .properties files that represent your database instances. By default a
  <b>development.properties</b>
  file is created for you to configure your development time database properties. You can also create test.properties
  and production.properties files. Details about the properties themselves follow later in this document. The
  environment can be specified when running a migration by using the
  <tt>--env=&lt;environment&gt;</tt>
  option (without the path or &quot;.properties&quot; part).
</p>
  <p>The default environment is &quot;development&quot;. The properties file is self documented, but here it is for reference:</p>

        <div class="source"><pre class="prettyprint">## Base time zone to ensure times are consistent across machines
time_zone=GMT+0:00
## The character set that scripts are encoded with
# script_char_set=UTF-8
## JDBC connection properties.
driver=
url=
username=
password=
# Name of the table that tracks changes to the database
changelog=CHANGELOG
# If set to true, each statement is isolated
# in its own transaction.  Otherwise the entire
# script is executed in one transaction.
auto_commit=false
# This controls how statements are delimited.
# By default statements are delimited by an
# end of line semicolon.  Some databases may
# (e.g. MS SQL Server) may require a full line
# delimiter such as GO.
delimiter=;
full_line_delimiter=false
# This ignores the line delimiters and
# simply sends the entire script at once.
# Use with JDBC drivers that can accept large
# blocks of delimited text at once.
send_full_script=false
# Custom driver path to avoid copying your drivers
# driver_path=</pre></div>
      </div>

      <div class="section"><h3>./scripts<a name="a.scripts"></a></h3>
        <p>
  This directory contains your migration SQL files. These are the files that contain your DDL to both upgrade and
  downgrade your database structure. By default, the directory will contain the script to create the
  <b>changelog</b>
  table, plus one empty example migration script. To create a new migration script, use the
  <b>&quot;new&quot;</b>
  command. To run all pending migrations, use the
  <b>&quot;up&quot;</b>
  command. To undo the last migration applied, use the
  <b>&quot;down&quot;</b>
  command etc.
</p>
      </div>
    </div>
  


                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2010-2013
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
